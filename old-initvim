" Specify a directory for plugins
call plug#begin('~/.local/share/nvim/plugged')

" Solarized
"" Plug 'altercation/vim-colors-solarized'
" Solarized 8 - Changed to Solarized 8
Plug 'lifepillar/vim-solarized8'

" Vista
Plug 'liuchengxu/vista.vim'

" vim-airline
" Plug 'vim-airline/vim-airline'
"Plug 'vim-airline/vim-airline-themes'
"let g:airline_theme='solarized'

Plug 'scrooloose/nerdtree'
map <C-n> :NERDTreeToggle<CR>


" vim-cpp-modern (Modern C++ syntax highlighting)
Plug 'bfrg/vim-cpp-modern'

Plug 'ntpeters/vim-better-whitespace',  { 'commit' : '8cf4b2175dd61416c2fe7d3234324a6c59d678de' }
Plug 'junegunn/fzf',                    { 'tag': '0.18.0', 'dir': '~/.fzf', 'do': './install --all' }
Plug 'junegunn/fzf.vim',                { 'commit': 'b31512e2a2d062ee4b6eb38864594c83f1ad2c2f' }

" nvim env setting
Plug 'neovim/nvim-lspconfig'
Plug 'L3MON4D3/LuaSnip'

" nvim-cmp has a lot of dependencies...
Plug 'hrsh7th/cmp-nvim-lsp'
Plug 'hrsh7th/cmp-buffer'
Plug 'hrsh7th/cmp-path'
Plug 'hrsh7th/cmp-cmdline'
Plug 'hrsh7th/nvim-cmp'
Plug 'hrsh7th/cmp-nvim-lsp-signature-help'

" using completion with vsnip
Plug 'hrsh7th/cmp-vsnip'
Plug 'hrsh7th/vim-vsnip'

" Initialize plugin system
call plug#end()

set completeopt=menu,menuone,noselect


set hidden
" need this in favor of fzf.vim
set autochdir

" Some servers have issues with backup files, see #649.
set nobackup
set nowritebackup

" Having longer updatetime (default is 4000 ms = 4 s) leads to noticeable
" delays and poor user experience.
set updatetime=300

" 1) read opened files again if changes are occurred outside nvim
" 2) write a modified buffer on each :next, ...
set autoread
set autowrite

" use incremental search
set incsearch

" clipboard sharing
set clipboard+=unnamedplus

" tab and indent setting
set tabstop=4
set shiftwidth=4
set expandtab
set smartindent
set autoindent
set cindent

" turn on line number
set number
set title

" syntax highlighting
syntax enable
syntax on

" disable mouse
set mouse-=a

" Always show the signcolumn, otherwise it would shift the text each time
" diagnostics appear/become resolved.
set signcolumn=auto

"-------------------------------------------------------------------------------
" Filename completion
"
"   wildmenu : command-line completion operates in an enhanced mode
" wildignore : A file that matches with one of these
"              patterns is ignored when completing file or directory names.
"-------------------------------------------------------------------------------
"
set wildmenu
set wildignore=*.bak,*.o,*.e,*~

" theme
set termguicolors
set background=dark
autocmd vimenter * ++nested colorscheme solarized8_flat
let g:solarized_termtrans=1


" configuration for yaml
autocmd FileType yml setlocal shiftwidth=2 tabstop=2
autocmd FileType yaml setlocal shiftwidth=2 tabstop=2


" configuration for html/css
autocmd FileType html setlocal shiftwidth=2 tabstop=2
autocmd FileType css setlocal shiftwidth=2 tabstop=2

" configuration for c cpp
autocmd FileType c,cpp call vista#sidebar#Toggle()

" configuration for python
autocmd FileType python call vista#sidebar#Toggle()

"-------------------------------------------------------------------------------
" Nvim LSP Setting
"-------------------------------------------------------------------------------
lua require('lsp')
lua require('nvim-cmp')
